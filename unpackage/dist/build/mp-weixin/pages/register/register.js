(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"02d3":function(e,t,a){"use strict";a.r(t);var n=a("8ac0"),r=a("6ff9");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("e3d0");var o,c=a("f0c5"),d=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"f4765ef2",null,!1,n["a"],o);t["default"]=d.exports},"163d":function(e,t,a){},"6ff9":function(e,t,a){"use strict";a.r(t);var n=a("a8a0"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"8ac0":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var n={robbyImageUpload:function(){return a.e("components/robby-image-upload/robby-image-upload").then(a.bind(null,"7d8f"))}},r=function(){var e=this,t=e.$createElement;e._self._c},i=[]},a8a0:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("a34a")),r=i(a("3ece"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t,a,n,r,i,o){try{var c=e[i](o),d=c.value}catch(s){return void a(s)}c.done?t(d):Promise.resolve(d).then(n,r)}function u(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){s(i,n,r,o,c,"next",e)}function c(e){s(i,n,r,o,c,"throw",e)}o(void 0)}))}}var m=function(){a.e("components/robby-image-upload/robby-image-upload").then(function(){return resolve(a("7d8f"))}.bind(null,a)).catch(a.oe)},h={components:{robbyImageUpload:m},data:function(){return{isShow:!1,array:[],areaData:[],streetData:[],commData:[],orgData:[],enterArr:[],parent_id:null,chidrenenterArr:[],entIndex:0,chidrenentIndex:0,cityIndex:0,areaIndex:0,streetIndex:0,commIndex:0,regName:{city_name:"",area_name:"",street_name:"",comm_name:"",enter:"",chidrenName:""},regData:{city:"",name:"",org_type_id:"",org_sub_type_id:"",area_coding:"",street_coding:"",comm_coding:"",license:""},enableDel:!1,enableAdd:!1,enableDrag:!1,limitNumber:1,imageData:[],fileKeyName:"files",serverUrl:this.$api.uploadurl,formData:{files:""}}},mounted:function(){this.themeCode("",1),this.typeNames()},methods:{bindPickerChange:function(e){var t=this;return u(n.default.mark((function a(){return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),t.cityIndex=e.detail.value,t.regName.city_name=t.array[t.cityIndex].name,a.next=5,t.themeCode(t.array[t.cityIndex].coding,2);case 5:case"end":return a.stop()}}),a)})))()},bindPickerCoding:function(e){this.areaIndex!=e.detail.value&&(this.regName.street_name="",this.regData.street_coding="",this.regName.comm_name="",this.regData.comm_coding="",this.streetIndex=0,this.commIndex=0),this.areaIndex=e.detail.value,this.regName.area_name=this.areaData[this.areaIndex].name,this.regData.area_coding=this.areaData[this.areaIndex].coding,this.themeCode(this.areaData[this.areaIndex].coding,3)},bindPickerStreet:function(e){this.streetIndex!=e.detail.value&&(this.regName.comm_name="",this.regData.comm_coding="",this.commIndex=0),this.streetIndex=e.detail.value,this.regName.street_name=this.streetData[this.streetIndex].name,this.regData.street_coding=this.streetData[this.streetIndex].coding,this.themeCode(this.streetData[this.streetIndex].coding,4)},bindPickerComm:function(e){this.commIndex=e.detail.value,this.regName.comm_name=this.commData[this.commIndex].name,this.regData.comm_coding=this.commData[this.commIndex].coding,this.themeCode(this.commData[this.commIndex].coding,5)},enterChange:function(e){var t=this;return u(n.default.mark((function a(){var r;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.entIndex!=e.detail.value&&(t.chidrenentIndex="",t.regName.chidrenName="",t.regData.org_sub_type_id=""),t.entIndex=e.detail.value,t.regName.enter=t.enterArr[t.entIndex].name,t.parent_id=t.enterArr[t.entIndex].org_type_id,t.regData.org_type_id=t.enterArr[t.entIndex].org_type_id,r={grade:2,parent_id:t.parent_id},a.next=8,t.$api.typeName(r).then((function(e){console.log(e,"责任主体子类型"),t.chidrenenterArr=e.data.data}));case 8:case"end":return a.stop()}}),a)})))()},chidrenenterChange:function(e){this.chidrenentIndex=e.detail.value,this.regName.chidrenName=this.chidrenenterArr[this.chidrenentIndex].name,this.regData.org_sub_type_id=this.chidrenenterArr[this.chidrenentIndex].org_type_id},submitBtn:function(){var t=this,a=[{name:"请选择城市",value:this.regName.city_name},{name:"请选择所在区域",value:this.regData.area_coding},{name:"请选择所在街道",value:this.regData.street_coding},{name:"请选择所在社区",value:this.regData.comm_coding},{name:"请填写企业名称",value:this.regData.name},{name:"请选择父企业",value:this.regData.org_type_id},{name:"请选择子企业",value:this.regData.org_sub_type_id},{name:"请上传营业执照",value:this.regData.license}];if(r.default.isEmpty(a)){this.$showLoading();var n=c({},this.regData);this.$api.themeSet(n).then((function(a){console.log(a),200==a.data.code?t.isShow=!0:e.showToast({title:"提示",icon:"none"})})).catch((function(t){console.log(t),e.showToast({title:t.data.errors.name[0],icon:"none"})}))}},wellBtn:function(){this.isShow=!1,e.reLaunch({url:"../home/home"})},themeCode:function(e,t){var a=this;console.log(e);var n={grade:t,coding_like:e};this.$api.themeCode(n).then((function(e){1==t&&(a.array=e.data.data),2==t&&(a.areaData=e.data.data),3==t&&(a.streetData=e.data.data),4==t&&(a.commData=e.data.data),5==t&&(a.orgData=e.data.data)}))},typeNames:function(){var e=this,t={grade:1};this.$api.typeName(t).then((function(t){e.enterArr=t.data.data}))},modifyUp:function(){},addImage:function(e){this.imageData=e.allImages,this.regData.license=e.allImages[0]},deleteImage:function(e){}}};t.default=h}).call(this,a("543d")["default"])},e3d0:function(e,t,a){"use strict";var n=a("163d"),r=a.n(n);r.a},fe81:function(e,t,a){"use strict";(function(e){a("74f4");n(a("66fd"));var t=n(a("02d3"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])}},[["fe81","common/runtime","common/vendor"]]]);